{% extends 'main_navi_base.html' %}
{% load static %}
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/variable/pretendardvariable.min.css" />
  <script src="https://code.jquery.com/jquery-latest.min.js"></script>
  <title>알려드려요</title>
</head>
<body>
  <!-- 프로필 -->
  {% block profill-block%}
  <div id="user_profile">
    <div id="pimg">
      <img src="/static/images/home/default_profile.png" alt="">
    </div>
    <p id="uName" >{{mem_info.name}}</p>
    <p id="uEmail">{{mem_info.mail}}</p>
  </div>
  {% endblock profill-block%}

  {% block container-block%}
  <div id="container">
    <div id="customer_service_top">
      <h2>알려드려요</h2>
      <span>가족과 친해지는 방법을 알려드릴게요.</span>
      <div class="how_dairy">
        <div class="slider-item">
          <p>가족을 칭찬하는<br>다이어리를 써보세요.</p>
        </div>
        <div class="slider-item">
          <p>가족을 칭찬하는<br>다이어리를 써보세요.</p>
        </div>
        <div class="slider-item">
          <p>가족을 칭찬하는<br>다이어리를 써보세요.</p>
        </div>
        <div class="slider-item">
          <p>가족을 칭찬하는<br>다이어리를 써보세요.</p>
        </div>
        <div class="slider-item">
          <p>가족을 칭찬하는<br>다이어리를 써보세요.</p>
        </div>
        <div class="slider-item">
          <p>가족을 칭찬하는<br>다이어리를 써보세요.</p>
        </div>
        <div class="slider-item">
          <p>가족을 칭찬하는<br>다이어리를 써보세요.</p>
        </div>
      </div>
    </div>
    <div id="customer_service_notice">
      <span>관리자 공지사항</span>
      <div class="customer_service_notice_table">
        <table>
          <colgroup>
            <col style="width:15%;">
            <col style="width:50%;">
            <col style="width:15%;">
            <col style="width:20%;">
          </colgroup>
          {% for notice in notice_5%}
          <tr>
            <td>{{notice.bno}}</td>
            <td><a href="/customer/noticeview/{{notice.bno}}/">{{notice.btitle}}</a></td>
            <td>{{notice.member}}</td>
            <td>{{notice.bdate|date:'Y-m-d'}}</td>
          </tr>
          {% endfor %}
          <tr class="notice_list_last">
            <td colspan="4"><a href="/customer/noticelist/"><span>전체 공지 보기</span><img src="/static/images/customer/Expand_right_light.png" alt=""></a></td>
          </tr>
        </table>
      </div>
    </div>
    <div id="customer_service_qna">
      <span>자주 묻는 질문</span>
      <div class="customer_service_qnabox">
        <div class="customer_service_q">
          <p>회원 탈퇴는 어떻게 하는지 궁금해요</p>
        </div>
        <div class="customer_service_a">
          <p><strong>Q. </strong> 회원 탈퇴는 어떻게 하는지 궁금해요</p>
          <hr>
          <p><strong>A. </strong> 로그인 후 상단 마이페이지 메뉴를 클릭하여 회원 탈퇴 버튼을 통해 가능합니다.<br>
          단, 남아있는 예치금, 적립금, 쿠폰은 모두 삭제되며 복구가 불가합니다. 또한 동일 이름, 동일 계정, 동일 연락처 등으로 재가입이 불가능합니다.</p>
        </div>
        <div class="customer_service_q">
          <p>회원 탈퇴는 어떻게 하는지 궁금해요</p>
        </div>
        <div class="customer_service_a">
          <p><strong>Q. </strong> 회원 탈퇴는 어떻게 하는지 궁금해요</p>
          <hr>
          <p><strong>A. </strong> 로그인 후 상단 마이페이지 메뉴를 클릭하여 회원 탈퇴 버튼을 통해 가능합니다.<br>
          단, 남아있는 예치금, 적립금, 쿠폰은 모두 삭제되며 복구가 불가합니다. 또한 동일 이름, 동일 계정, 동일 연락처 등으로 재가입이 불가능합니다.</p>
        </div>
        <div class="customer_service_q">
          <p>회원 탈퇴는 어떻게 하는지 궁금해요</p>
        </div>
        <div class="customer_service_a">
          <p><strong>Q. </strong> 회원 탈퇴는 어떻게 하는지 궁금해요</p>
          <hr>
          <p><strong>A. </strong> 로그인 후 상단 마이페이지 메뉴를 클릭하여 회원 탈퇴 버튼을 통해 가능합니다.<br>
          단, 남아있는 예치금, 적립금, 쿠폰은 모두 삭제되며 복구가 불가합니다. 또한 동일 이름, 동일 계정, 동일 연락처 등으로 재가입이 불가능합니다.</p>
        </div>
        <div class="customer_service_q">
          <p>회원 탈퇴는 어떻게 하는지 궁금해요</p>
        </div>
        <div class="customer_service_a">
          <p><strong>Q. </strong> 회원 탈퇴는 어떻게 하는지 궁금해요</p>
          <hr>
          <p><strong>A. </strong> 로그인 후 상단 마이페이지 메뉴를 클릭하여 회원 탈퇴 버튼을 통해 가능합니다.<br>
          단, 남아있는 예치금, 적립금, 쿠폰은 모두 삭제되며 복구가 불가합니다. 또한 동일 이름, 동일 계정, 동일 연락처 등으로 재가입이 불가능합니다.</p>
        </div>
        <div class="customer_service_q">
          <p>회원 탈퇴는 어떻게 하는지 궁금해요</p>
        </div>
        <div class="customer_service_a">
          <p><strong>Q. </strong> 회원 탈퇴는 어떻게 하는지 궁금해요</p>
          <hr>
          <p><strong>A. </strong> 로그인 후 상단 마이페이지 메뉴를 클릭하여 회원 탈퇴 버튼을 통해 가능합니다.<br>
          단, 남아있는 예치금, 적립금, 쿠폰은 모두 삭제되며 복구가 불가합니다. 또한 동일 이름, 동일 계정, 동일 연락처 등으로 재가입이 불가능합니다.</p>
        </div>
      </div>
    </div>
    <div id="customer_service_request">
      <span>1:1 문의</span>
      <div class="customer_service_request_box">
        <div class="customer_service_request_input">
          <input type="text" placeholder="문의 종류">
          <textarea name="" id="" placeholder="내용"></textarea>
          <input type="file" name="request_file" id="request_file">
          <input type="text" placeholder="답변 받을 이메일">
        </div>
        <div class="customer_service_request_agree">
          <p>문의 및 요청사항에 대한 서비스 지원을 위한 개인정보 수집, 이용동의(필수)</p>
          <div class="agree_txt">
            1. 개인정보의 수집 및 이용 목적<br>
            문의 및 요청사항에 대한 서비스를 지원하기 위해 개인정보를 수집하고 있으며, 수집된 개인정보는 정해진 목적 이외의 용도로는 이용되지 않으며 수집 목적이 변경될 경우 사전에 알리고 동의를 받을 예정입니다.<br>
            2. 개인정보의 보유 및 이용기간<br>
            원칙적으로 개인정보의 수집목적 또는 제공받은 목적이 달성된 때에는 귀하의 개인정보를 지체 없이 파기합니다. 다만 발송내역의 자료를 확인하기 위해 1년간 보유합니다. 다른 법령에 따라 보존하여야 하는 경우에는 보유 및 이용기간이 경과한 개인정보를 파기하지 아니하고 보유할 수 있습니다.<br>
            3. 수집하는 개인정보의 항목<br>
            항목 : 국가, 이름, 성, 이메일, 회사/조직, 부서, 전화번호<br>
            보유기간 : 1년간 보관 후 파기<br>
            보유목적 : 제품 관련 문의 및 요청사항에 대한 서비스 지원<br>
            자동수집항목 : IP, 쿠키(Cookie), 접속 로그<br>
            ※ 귀하께서는 개인정보 수집 동의를 거부할 권리가 있으나 거부 시에는 요청하신 서비스가 제한될 수 있습니다.<br>
            상기 내용을 읽고 수집 및 이용에 동의합니다.<br>
          </div>
          <div class="agree_chk">
            <input type="radio" value='agree' id='agree'>
            <label for="agree"> 개인 정보 수집 및 이용에 동의합니다.</label>
            <button type="button">문의 등록</button>
          </div>
        </div>
      </div> 
    </div>
  </div>

  <script>
    // 가족과 친해지는 방법 슬라이드
    document.addEventListener('DOMContentLoaded', function() {
      const wrapper = document.querySelector('.how_dairy'); // 슬라이더 컨테이너
      const items = document.querySelectorAll('.how_dairy .slider-item'); // 슬라이드 아이템들
      let isDragging = false;
      let startX = 0;
      let currentTranslate = 0;
      let prevTranslate = 0;
      
      // 슬라이드 간의 여백을 포함한 전체 너비 계산
      const slideWidth = items[0].offsetWidth; // 슬라이드의 너비(여백 포함)
      const slideMargin = parseFloat(getComputedStyle(items[0]).marginRight); // 슬라이드 간의 margin-right 값
      const totalSlidesWidth = items.length * (slideWidth + slideMargin) - slideMargin; // 전체 슬라이드 길이
      const wrapperWidth = wrapper.clientWidth; // 컨테이너 너비
      const maxTranslate = Math.min(0, wrapperWidth - totalSlidesWidth); // 오른쪽 끝 제한
    
      function setSliderPosition() {
        wrapper.style.transform = `translateX(${currentTranslate}px)`;
      }
    
      function onPointerDown(event) {
        isDragging = true;
        startX = event.clientX || event.touches[0].clientX;
        wrapper.style.transition = 'none'; // 드래그 중 애니메이션 제거
      }
    
      function onPointerMove(event) {
        if (!isDragging) return;
        const currentX = event.clientX || event.touches[0].clientX;
        const diffX = currentX - startX;
    
        // 슬라이더 이동 범위 제한 (왼쪽, 오른쪽)
        currentTranslate = Math.max(maxTranslate, Math.min(prevTranslate + diffX, 0));
        setSliderPosition();
      }
    
      function onPointerUp() {
        isDragging = false;
        prevTranslate = currentTranslate; // 드래그된 위치 유지
        wrapper.style.transition = 'transform 0.3s ease-in-out'; // 드래그 종료 후 부드러운 멈춤
      }
    
      wrapper.addEventListener('pointerdown', onPointerDown);
      wrapper.addEventListener('pointermove', onPointerMove);
      wrapper.addEventListener('pointerup', onPointerUp);
      wrapper.addEventListener('pointerleave', onPointerUp); // 드래그 중 영역을 벗어날 때 처리
      wrapper.addEventListener('touchstart', onPointerDown);
      wrapper.addEventListener('touchmove', onPointerMove);
      wrapper.addEventListener('touchend', onPointerUp);
    
      // 드래그 중 기본 동작 방지 (예: 텍스트 선택 방지)
      wrapper.addEventListener('dragstart', (e) => e.preventDefault());
    });
    
    
    // 자주 묻는 질문 슬라이드
    $(document).ready(function() {
      $('.customer_service_q').click(function() {
        $(this).next('.customer_service_a').slideToggle(300); // 300ms 동안 슬라이드
        $(this).toggleClass('active'); // 열림/닫힘 상태 관리 (추가 스타일링 가능)
      });
    });
    
  </script>
  {% endblock container-block%}
  {% comment %} {% block container-block%}
  {% endblock container-block%} {% endcomment %}
  </div>
  
</body>
</html>